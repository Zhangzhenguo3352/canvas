webpackJsonp([1],{"1+Ja":function(t,e){},"3g1f":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("grid",{attrs:{"grid-data":t.data,columns:t.columns,showCheckbox:t.showCheckbox,columnSet:t.columnSet,"left-height":20,showRate:!0},on:{focus:t.focus,updateValue:t.update}})],1)},l=[],o={render:s,staticRenderFns:l};e.a=o},"9W4H":function(t,e,i){"use strict";var s=i("rDfC");e.a={components:{Grid:s.a},data:function(){return{columnSet:!0,showCheckbox:!1,data:[],columns:[{title:"品牌",key:"brandName",width:80},{title:"商品名称",key:"goodsName",width:150},{title:"规格型号",key:"sn",width:100},{title:"物料编码",key:"materialNo",width:100},{title:"单位",key:"unit",width:70},{title:"数量",key:"requiredQuantity",type:"number",width:70},{title:"客户备注",key:"customerRemarks",width:150},{title:"采购价(元)",key:"purchasePrice",type:"number",width:80},{title:"销售价(元)",key:"salePrice",type:"number",width:80},{title:"货期",width:100,key:"shipDesc"},{title:"操作",width:70,fixed:!0,renderButton:function(t,e){return[{title:"操作",click:function(){console.log(t,e)}}]}}]}},created:function(){for(var t=0;t<100;t+=1)this.data.push({brandName:"博世"+t,goodsName:"电钻"+t,sn:"SDFSD"+t,materialNo:"1231"+t,unit:"个",requiredQuantity:10,customerRemarks:"测试测试"+t,purchasePrice:10.2,salePrice:12.3,shipDesc:10})},methods:{update:function(t){console.log(t)},focus:function(t){console.log(t)}}}},C25k:function(t,e,i){"use strict";var s=i("Dd8w"),l=i.n(s),o=i("BO1k"),r=i.n(o);e.a={data:function(){var t=new Image;t.src=i("GAsE");var e=new Image;e.src=i("frLY");var s=new Image;return s.src=i("bTS9"),{headerColor:"#333333",textColor:"#666666",borderColor:"#d4d4d4",white:"#ffffff",shadowColor:"rgba(0,0,0,0.2)",fillColor:"#f9f9f9",headFillColor:"#f2f2f2",buttonColor:"#20a0ff",focusColor:"#4285f4",selectColor:"#6bc9ff",selectAreaColor:"rgba(160, 195, 255, 0.2)",selectRowColor:"#f6f6f6",dotColor:"#74d337",oncheck:t,offcheck:e,more:s,words:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}},methods:{initCanvas:function(){var t=this.$refs.canvas,e="";this.ctx?e=this.ctx:(e=t.getContext("2d"),this.ctx=e),e.font="normal 12px PingFang SC";var i=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;this.ratio=(window.devicePixelRatio||1)/i,this.getAllCells(this.data,this.columns),this.setBodyHeight(this.allRows,this.originPoint),this.setMaxpoint(this.width,this.height,this.fixedWidth,this.scrollerWidth),this.resetScrollBar(this.maxPoint,this.bodyWidth,this.bodyHeight,this.fixedWidth)},rePainted:function(){var t=this.initDisplayItems();if(this.autoAddRow)if(t.displayRows[t.displayRows.length-1].rowIndex>=this.allRows.length-50){for(var e=this.data.length,i=0;i<100;i+=1)this.data.push(this.templateData);this.setAllCells(e),t=this.initDisplayItems()}else this.data.length>this.initRows&&t.displayRows[t.displayRows.length-1].rowIndex<=this.allRows.length-200&&(this.data.splice(this.data.length-100,100),this.allCells.splice(this.allCells.length-100,100),this.allRows.splice(this.allRows.length-100,100),this.setBodyHeight(this.allRows,this.originPoint),this.resetScrollBar(this.maxPoint,this.bodyWidth,this.bodyHeight,this.fixedWidth),t=this.initDisplayItems());return this.clearPainted(),this.painted(t),t},clearPainted:function(){this.renderButtons=[],this.ctx.clearRect(0,0,this.width,this.height)},painted:function(t){var e=t.displayColumns,i=t.displayRows,s=t.displayCells,l=t.displayFixedCells,o=this.ctx;o.fillStyle=this.headerColor,o.textAlign="center",o.lineWidth=1,o.strokeStyle=this.borderColor,o.textBaseline="middle",o.save(),this.paintSelectRow(o,i),this.paintLine(o,i,e),this.paintBody(o,s),this.isSelect&&this.paintSelect(o,this.selectArea),this.isFocus&&this.paintFocus(o,this.focusCell),this.paintHeader(o,e),this.showCheckbox&&this.paintCheckbox(o,i),this.isMultiSelect&&this.paintMultiSelect(o,this.multiSelect),this.paintSerial(o,i),this.paintNo(o),l.length>0&&0===this.fillWidth&&this.paintFixedCells(o,l,e),this.paintHeadWord(o,e),this.painScroller(o,this.scrollerWidth)},paintSelectRow:function(t,e){var i=this.p,s=this.i,l=this.maxPoint,o=this.rowFocus,n=!0,a=!1,h=void 0;try{for(var d,f=r()(e);!(n=(d=f.next()).done);n=!0){var u=d.value;o&&o.cellY===u.y&&(t.fillStyle=this.selectRowColor,t.fillRect(i(-1),i(u.y),s(l.x),s(u.height)))}}catch(t){a=!0,h=t}finally{try{!n&&f.return&&f.return()}finally{if(a)throw h}}},paintLine:function(t,e,i){var s=this.p,l=this.i,o=this.maxPoint,n=this.rowHeight,a=(this.rowFocus,this.serialWidth),h=this.bodyHeight,d=this.toolbarHeight;t.beginPath(),t.strokeStyle=this.borderColor,t.lineWidth=1;var f=!0,u=!1,c=void 0;try{for(var y,x=r()(i);!(f=(y=x.next()).done);f=!0){var v=y.value;v.fixed||(t.moveTo(s(v.x+v.width)+.25,d),t.lineTo(s(v.x+v.width),l(h)))}}catch(t){u=!0,c=t}finally{try{!f&&x.return&&x.return()}finally{if(u)throw c}}var _=!0,w=!1,p=void 0;try{for(var C,g=r()(e);!(_=(C=g.next()).done);_=!0){var m=C.value;t.moveTo(l(0),s(m.y+m.height)),t.lineTo(l(o.x),s(m.y+m.height))}}catch(t){w=!0,p=t}finally{try{!_&&g.return&&g.return()}finally{if(w)throw p}}t.moveTo(s(a),s(n+d)),t.lineTo(s(a),l(h)),t.moveTo(l(0),s(n+d)),t.lineTo(l(o.x),s(n+d)),t.stroke()},paintBody:function(t,e){var i=this.paintText,s=this.i;t.beginPath(),t.font="normal 12px PingFang SC",t.fillStyle=this.textColor;var l=!0,o=!1,n=void 0;try{for(var a,h=r()(e);!(l=(a=h.next()).done);l=!0){var d=a.value,f=!0,u=!1,c=void 0;try{for(var y,x=r()(d);!(f=(y=x.next()).done);f=!0){var v=y.value;(!v.fixed||this.fillWidth>0)&&(v.buttons?this.paintButton(t,v,s(v.x),s(v.y)):v.paintText&&v.paintText.length>0&&i(t,s(v.x+v.width/2),s(16+v.y),v.paintText))}}catch(t){u=!0,c=t}finally{try{!f&&x.return&&x.return()}finally{if(u)throw c}}}}catch(t){o=!0,n=t}finally{try{!l&&h.return&&h.return()}finally{if(o)throw n}}t.stroke()},paintText:function(t,e,i,s){for(var l=0;l<s.length;l+=1)t.fillText(s[l],e,i+18*l)},paintButton:function(t,e,i,s){var o=0,n=!0,a=!1,h=void 0;try{for(var d,f=r()(e.buttons);!(n=(d=f.next()).done);n=!0){var u=d.value;o+=t.measureText(u.title).width}}catch(t){a=!0,h=t}finally{try{!n&&f.return&&f.return()}finally{if(a)throw h}}e.buttons.length>1&&(o+=20*(e.buttons.length-1));var c=0;c=e.width-o>0?(e.width-o)/2:0,t.save(),t.font="normal 12px PingFang SC";var y=!0,x=!1,v=void 0;try{for(var _,w=r()(e.buttons);!(y=(_=w.next()).done);y=!0){var p=_.value,C=t.measureText(p.title).width;t.fillStyle=p.color?p.color:this.buttonColor,t.fillText(p.title,c+i+C/2,s+16),this.renderButtons.push({x:c+i,y:s+7.5,cellX:i,cellY:s,width:C,height:12,click:p.click,rowIndex:e.rowIndex,offset:l()({},this.offset),fixed:e.fixed}),c+=C+20}}catch(t){x=!0,v=t}finally{try{!y&&w.return&&w.return()}finally{if(x)throw v}}t.restore()},paintSelect:function(t,e){var i=this.p,s=this.originPoint,l=this.maxPoint;e.x+e.width>s.x&&e.y+e.height>s.y&&e.x<l.x&&e.y<l.y&&(t.beginPath(),t.lineWidth=1,t.strokeStyle=this.selectColor,t.moveTo(i(e.x),i(e.y)),t.lineTo(i(e.x+e.width),i(e.y)),t.lineTo(i(e.x+e.width),i(e.y+e.height)),t.lineTo(i(e.x),i(e.y+e.height)),t.closePath(),t.fillStyle=this.selectAreaColor,t.fill(),t.stroke())},paintMultiSelect:function(t,e){var i=this.p;t.beginPath(),t.lineWidth=2,t.setLineDash([10,5]),t.strokeStyle="#e33333",t.moveTo(i(e.x),i(e.y)),t.lineTo(i(e.x+e.width),i(e.y)),t.lineTo(i(e.x+e.width),i(e.y+e.height)),t.moveTo(i(e.x),i(e.y)),t.lineTo(i(e.x),i(e.y+e.height)),t.stroke(),t.setLineDash([0])},paintFocus:function(t,e){var i=this.i,s=this.originPoint,l=this.maxPoint,o=this.toolbarHeight;e.x+e.width>s.x&&e.y+e.height>s.y+o&&e.x<l.x&&e.y<l.y&&(t.lineWidth=2,t.strokeStyle=this.focusColor,t.strokeRect(i(e.x),i(e.y),e.width,e.height))},paintHeader:function(t,e){var i=this.p,s=this.i,l=this.focusCell,o=this.width,n=this.rowHeight,a=this.rowFocus,h=this.toolbarHeight;t.fillStyle=this.fillColor,t.fillRect(0,h,o,n),t.beginPath(),t.strokeStyle=this.borderColor,t.font="bold 12px PingFang SC",t.lineWidth=1;var d=!0,f=!1,u=void 0;try{for(var c,y=r()(e);!(d=(c=y.next()).done);d=!0){var x=c.value;if(!x.fixed||this.fillWidth>0){var v=this.headerColor;a&&a.cellX===x.x&&(t.fillStyle=this.selectRowColor,t.fillRect(i(x.x),i(h),i(x.width),i(n-1)),v=this.focusColor),t.fillStyle=v,t.fillText(x.title,i(x.x+x.width/2),i(16+h)),t.moveTo(i(x.x+x.width),i(h)),t.lineTo(i(x.x+x.width),i(n+h))}}}catch(t){f=!0,u=t}finally{try{!d&&y.return&&y.return()}finally{if(f)throw u}}t.stroke(),l&&(t.beginPath(),t.strokeStyle=this.focusColor,t.lineWidth=2,t.moveTo(s(l.x-1),s(n+h)),t.lineTo(s(l.x+l.width+1),s(n+h)),t.stroke())},paintCheckbox:function(t,e){this.checkboxs=[];var i=this.i,s=this.p,l=this.offset,o=this.maxPoint,n=this.allRows,a=this.focusCell,h=this.rowFocus,d=this.checkboxWidth,f=this.rowHeight,u=this.serialWidth,c=this.originPoint,y=this.height,x=this.oncheck,v=this.offcheck,_=this.selected,w=this.toolbarHeight;t.fillStyle=this.fillColor,t.save(),0!==l.x&&(t.shadowBlur=10,t.shadowColor=this.shadowColor),t.fillRect(i(0),s(w),i(d+u),i(y)),t.restore(),t.beginPath(),t.strokeStyle=this.borderColor,t.lineWidth=1,t.moveTo(s(u),i(w)),t.lineTo(s(u),i(o.y)),t.moveTo(s(u+d),i(w)),t.lineTo(s(u+d),i(o.y));var p=!0,C=!1,g=void 0;try{for(var m,b=r()(e);!(p=(m=b.next()).done);p=!0){var A=m.value;16+A.y>-A.height&&(h&&h.cellY===A.y&&(t.fillStyle=this.selectRowColor,t.fillRect(s(u),s(A.y),i(d-1),i(A.height))),t.moveTo(s(u),s(A.y+A.height)),t.lineTo(s(u+d),s(A.y+A.height)),-1!==_.indexOf(A.rowIndex)?t.drawImage(x,s(u+5),s(A.y+5),20,20):t.drawImage(v,s(u+5),s(A.y+5),20,20),this.checkboxs.push({rowIndex:A.rowIndex,x:s(u+5),y:s(A.y+5),width:20,height:20}))}}catch(t){C=!0,g=t}finally{try{!p&&b.return&&b.return()}finally{if(C)throw g}}t.stroke(),this.focusCell&&(t.beginPath(),t.strokeStyle=this.focusColor,t.lineWidth=2,t.moveTo(i(u+d),i(a.y-1)),t.lineTo(i(u+d),i(a.y+a.height+1)),t.stroke()),t.beginPath(),t.strokeStyle=this.borderColor,t.fillStyle=this.fillColor,t.lineWidth=1,t.fillRect(s(u+1),s(w),i(d),i(f)),t.moveTo(s(u),s(c.y+w)),t.lineTo(s(u+d),s(c.y+w)),t.lineTo(s(u+d),s(w)),t.stroke(),_.length===n.length?t.drawImage(x,s(u+5),s(5+w),20,20):t.drawImage(v,s(u+5),s(5+w),20,20)},paintSerial:function(t,e){var i=this.i,s=this.p,l=this.offset,o=this.bodyHeight,n=this.focusCell,a=this.rowFocus,h=this.serialWidth;this.showCheckbox||(t.fillStyle=this.fillColor,t.save(),0!==l.x&&(t.shadowBlur=10,t.shadowOffsetX=3,t.shadowColor=this.shadowColor),t.fillRect(0,0,h,o),t.restore()),t.lineWidth=1;var d=!0,f=!1,u=void 0;try{for(var c,y=r()(e);!(d=(c=y.next()).done);d=!0){var x=c.value;if(16+x.y>-x.height){t.beginPath(),t.strokeStyle=this.borderColor;var v=this.textColor;a&&a.cellY===x.y&&(t.fillStyle=this.selectRowColor,t.fillRect(-1,x.y+1,h+1,x.height),v=this.focusColor),t.fillStyle=v,t.fillText(""+(x.rowIndex+1),h/2,16+x.y),t.moveTo(s(0),s(x.y+x.height)),t.lineTo(s(h),s(x.y+x.height)),t.stroke(),x.showDot&&(t.beginPath(),t.fillStyle=this.dotColor,t.strokeStyle=this.fillColor,t.arc(16,16+x.y,4,0,2*Math.PI),t.fill(),t.stroke())}}}catch(t){f=!0,u=t}finally{try{!d&&y.return&&y.return()}finally{if(f)throw u}}t.stroke(),this.focusCell&&!this.showCheckbox&&(t.beginPath(),t.strokeStyle=this.focusColor,t.lineWidth=2,t.moveTo(i(h),i(n.y-1)),t.lineTo(i(h),i(n.y+n.height+1)),t.stroke())},paintNo:function(t){var e=this.p,i=this.rowHeight,s=this.serialWidth,l=this.more,o=this.toolbarHeight;t.beginPath(),t.strokeStyle=this.borderColor,t.fillStyle=this.fillColor,t.fillRect(0,o,s,i),t.fillStyle=this.headerColor,t.fillText("序号",s/2,16+o),t.lineWidth=1,t.moveTo(e(s),e(o)),t.lineTo(e(s),e(i+o)),t.lineTo(e(0),e(i+o)),t.stroke(),this.columnSet&&t.drawImage(l,50,6+o,18,18)},paintFixedCells:function(t,e,i){var s=this.bodyHeight,l=this.rowHeight,o=this.maxPoint,n=this.paintText,a=this.paintButton,h=this.p,d=this.i,f=this.allColumns,u=this.fixedWidth,c=this.fixedColumns,y=this.rowFocus,x=this.toolbarHeight;t.save();var v=i[i.length-1];v.cellIndex===f.length-1-c.length?v.x+v.width>o.x&&(t.shadowBlur=10,t.shadowColor=this.shadowColor):(t.shadowBlur=10,t.shadowColor=this.shadowColor),t.fillStyle=this.white,t.fillRect(h(o.x),h(x),d(u+1),d(s)),t.restore(),t.beginPath(),t.fillStyle=this.textColor,t.strokeStyle=this.borderColor,t.lineWidth=1;var _=o.x,w=!0,p=!1,C=void 0;try{for(var g,m=r()(e.reverse());!(w=(g=m.next()).done);w=!0){var b=g.value,A=0,I=!0,k=!1,B=void 0;try{for(var P,T=r()(b);!(I=(P=T.next()).done);I=!0){var E=P.value;A=E.width,y&&y.cellY===E.y&&(t.fillStyle=this.selectRowColor,t.fillRect(h(_),h(E.y),d(this.maxPoint.x),d(E.height))),E.buttons?a(t,E,_,E.y):E.paintText&&E.paintText.length>0&&n(t,d(_+E.width/2),d(16+E.y),E.paintText),t.moveTo(h(_),h(E.y)),t.lineTo(h(_),h(E.y+E.height)),t.lineTo(h(_+E.width),h(E.y+E.height))}}catch(t){k=!0,B=t}finally{try{!I&&T.return&&T.return()}finally{if(k)throw B}}_+=A}}catch(t){p=!0,C=t}finally{try{!w&&m.return&&m.return()}finally{if(p)throw C}}t.stroke(),t.beginPath(),t.font="bold 12px PingFang SC";var D=o.x,R=!0,S=!1,W=void 0;try{for(var M,F=r()(c);!(R=(M=F.next()).done);R=!0){var O=M.value,H=this.headerColor;y&&y.cellX===D?(t.fillStyle=this.selectRowColor,t.fillRect(D,x,O.width,l),H=this.focusColor):(t.fillStyle=this.fillColor,t.fillRect(D,x,O.width,l)),t.fillStyle=H,t.fillText(O.title,d(D+O.width/2),16+x),t.moveTo(h(D),h(x)),t.lineTo(h(D),h(l+x)),t.lineTo(h(D+O.width),h(l+x)),D+=O.width}}catch(t){S=!0,W=t}finally{try{!R&&F.return&&F.return()}finally{if(S)throw W}}t.stroke()},painScroller:function(t,e){var i=this.p;t.fillStyle=this.white,t.fillRect(this.width-e+1,0,e-1,this.height),t.fillRect(0,this.height-e+1,this.width,e-1),t.beginPath(),t.lineWidth=1,t.strokeStyle=this.borderColor,t.moveTo(i(this.width-e+1),i(0)),t.lineTo(i(this.width-e+1),i(this.height-e+1)),t.lineTo(i(0),i(this.height-e+1)),t.fillStyle=this.white,t.fillRect(i(this.width-e+1),i(this.height-e+1),e-1,e-1),t.stroke()},paintHeadWord:function(t,e){var i=this.p,s=this.width,l=this.rowHeight,o=this.rowFocus,n=this.toolbarHeight,a=this.maxPoint,h=this.fixedWidth,d=this.serialWidth,f=this.checkboxWidth,u=this.words;t.fillStyle=this.headFillColor,t.fillRect(0,n-l-1,s,l),t.beginPath(),t.strokeStyle=this.borderColor,t.font="bold 12px PingFang SC",t.lineWidth=1;var c=e[0].cellIndex,y=!0,x=!1,v=void 0;try{for(var _,w=r()(e);!(y=(_=w.next()).done);y=!0){var p=_.value;if(!p.fixed||this.fillWidth>0){var C=this.headerColor;o&&o.cellX===p.x&&(C=this.focusColor),t.fillStyle=C,t.fillText(u[c],i(p.x+p.width/2),i(16+n-l-1)),t.moveTo(i(p.x+p.width),i(n-l-1)),t.lineTo(i(p.x+p.width),i(n))}c+=1}}catch(t){x=!0,v=t}finally{try{!y&&w.return&&w.return()}finally{if(x)throw v}}var g=d;this.showCheckbox&&(g+=f),t.moveTo(i(g),i(n-l-1)),t.lineTo(i(g),i(n)),t.moveTo(i(a.x),i(n-l-1)),t.lineTo(i(a.x),i(n)),t.moveTo(i(0),i(n-1)),t.lineTo(i(a.x+h),i(n-1)),t.moveTo(i(0),i(n-l-1)),t.lineTo(i(a.x+h),i(n-l-1)),t.stroke(),t.fillStyle=this.headFillColor,t.fillRect(a.x+1,n-l,h,l-1),t.fillRect(0,i(n-l-1),g,l-1),t.beginPath(),t.moveTo(i(0),i(n-l-1)),t.lineTo(i(g),i(n)),t.stroke()},p:function(t){var e=""+t;return e&&e.indexOf&&-1===e.indexOf(".")?t+.5:t},i:function(t){return Math.round(t)}}}},GAsE:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB7klEQVRoQ+2ZQVLCMBSG/+foiszoDYQTyA1ELqLcANdlwULWjiegXqRwBU8gnEAc6gqG50TpDNQEG/pagpYlTZPve38mTRvCkf/oyPlRCRw6wSoBrxNo9fni5CweMqNFRBdlwjIwIWC8WtTux32a2ca2TiENT6fxa9ngaVBmnvFSNWwSVoGbhzgkwm2ZVbeNxYznUU/dma7vEJi/Hbr6CbCeTqNANZwE2oOYfah+whAFylhsawKVgHB83ifAjBcCQhAeTe5eC2h4XtZaeqm0rX7eCmzCJ5U3SXgpYILXEu1BPASwte57J+ACr6W8EnCF90pgH3hvBPaFFxXQGysATSJcuTyr8sCLCSS7wu+t9sc4q0ReeBGB9JY2q4QEvIgAgDAKVGdz2vwmIQUvJaD7ySwhCS8poPt6igLV3ZWENLy0gO6vEwUqNEno/5KN2eZ10/bAZRUr4klslNBQ6RfwvPBFJJAU74dEuqoS8EUKGKdTIiEFX7SAUUISvgyBLQlp+LIEviQAXKdfRlxWG1vbIlYhCa7MfVQCmUtVUMP/mMB8BtB5QQV165YxjXqqbrrp735eX5/OTA6fAr+vFqrufMCh41qf0oQEaoJw6ZZ7ztaMKQNjXta6ex0x5Ry+tNurY9bSSm0ZqEqgSiBnBT4BkfqPQMORwUwAAAAASUVORK5CYII="},KPCv:function(t,e,i){"use strict";function s(t){i("1+Ja")}var l=i("mycr"),o=i("s6lA"),r=i("VU/8"),n=s,a=r(l.a,o.a,!1,n,"data-v-5d99d4c5",null);e.a=a.exports},M93x:function(t,e,i){"use strict";var s=i("xJD8"),l=i("o8pN"),o=i("VU/8"),r=o(s.a,l.a,!1,null,null,null);e.a=r.exports},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),l=i("M93x"),o=i("YaEn");s.a.config.productionTip=!1,new s.a({el:"#app",router:o.a,template:"<App/>",components:{App:l.a}})},QxkU:function(t,e,i){"use strict";var s=i("bOdI"),l=i.n(s),o="ivu-checkbox";e.a={name:"Checkbox",props:{disabled:{type:Boolean,default:!1},value:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number,Boolean]},indeterminate:{type:Boolean,default:!1}},data:function(){return{model:[],currentValue:this.value}},computed:{wrapClasses:function(){var t;return[o+"-wrapper",(t={},l()(t,o+"-wrapper-checked",this.currentValue),l()(t,o+"-wrapper-disabled",this.disabled),t)]},checkboxClasses:function(){var t;return[""+o,(t={},l()(t,o+"-checked",this.currentValue),l()(t,o+"-disabled",this.disabled),l()(t,o+"-indeterminate",this.indeterminate),t)]},innerClasses:function(){return o+"-inner"},inputClasses:function(){return o+"-input"}},mounted:function(){this.updateModel(),this.showSlot=void 0!==this.$slots.default},methods:{change:function(t){if(this.disabled)return!1;var e=t.target.checked;return this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),null},updateModel:function(){this.currentValue=this.value}},watch:{value:function(){this.updateModel()}}}},UAPn:function(t,e){},Wiz0:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACpUlEQVRYR8VXwXHbMBC8wygzUT6RP5kR9YjSAckGJFUQuYLEHdgdKBV4UkGkCqIOLDVAIBVY+cgz+UT+2I94sBnQJE1RAAnJicUfh+Dd3t5icWA68sNHzk97AfgVhuED0YCYxyDqMHNoCgCgmGhDzKql9eydUsq3MC8AN2E4BPM3Yu57BQZWDEy6Ss2a1tcC+B2GnXvm78Q8bApk/Q4sWsBFHSNOAIbuP8xXzNw5KHn2E4CNAE67Si1scawA/lXyckLWemQDsQPA0H7HfP3cyqvVGiZeAaNqO3YArKNoQcyD59Du/BdYBFKOtpgpv6RqF+LqvyTPgrLWZ12lpnmOLQZqq9f6NFBqvo6iKTF/cqh+1gbO74X4TESXjjWrQMoPOwBuwrAPIa5d1be1PjlRamO+W0EAs0BKkzh91nEMV6yW1lGuhYKBdRyfO1EbtyOa9pLkrEhQZqKavI6lxwBfgyQx+Z6s2Ed8VhBEtFV5c3Lj3ctAytTcnhjwVH8VRJnmWn2UFpqzoydltA0gjk1/3/rsABsI3+R5/CBJ0uLLDKyI+b0PAKr03CnMmmA2AH4GZEluFWZNcgA/elKmR3mZgTkxf6xlwKJ2MMO5O1zBrCJs2IZV2ss9r92iFhAg+tJLkskWA01GlPfM1W+j7DfAqDCrfY0oC+zUgfHw10TzOyEumahwvHKBBoQALkiIAYjSCnce4GcgZTFZbZ0FL3EYUXam5MBe+jguHNAJIJsDlbcneBlHuuiWtQ67Sq3KvzhHsgchzAzn5Yw+GMonYCMAsyC9AzAbb/BzRzeK25bWQ9dk7DOWGxCHjWjAsg2M861pw7jPxWTiDQRYZhcT6yju1QIb2sysxgSMs+99MvcG4PEqxjxnredVodVpxIsBH5EduuboAP4CoVdzMKZ9VmMAAAAASUVORK5CYII="},YU9l:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{class:t.wrapClasses},[i("span",{class:t.checkboxClasses},[i("span",{class:t.innerClasses}),t._v(" "),i("input",{class:t.inputClasses,attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:t.currentValue},on:{change:t.change}})]),t._v(" "),t._t("default")],2)},l=[],o={render:s,staticRenderFns:l};e.a=o},YaEn:function(t,e,i){"use strict";var s=i("7+uW"),l=i("/ocq"),o=i("wG0d");s.a.use(l.a),e.a=new l.a({routes:[{path:"/",name:"Example",component:o.a}]})},bTS9:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAuUlEQVRYR+2W4QkCMQyFky6gI+gGJV3IDdQJPDfQDZzozaAbuEGlICIHHuQh1/uR/G6bj5fHa1Q6l3buLwFAKZBzXqeUTiKye4/wBuDIjJMCMLOLqu6/G9ZazwAGLwQFUEp5ishqBHAHsO0J8ACwmQXAzAZVbR741KwjaF0bxMiE7vm3dygPeGWeOh8AlAJLDaIrgIPXH5QCEUQRRF6jRRD9XYGlBlFsRLERxUZEBST1HVOdflzqDvACzBd+IfZbdZ0AAAAASUVORK5CYII="},bseC:function(t,e,i){"use strict";var s=i("woOf"),l=i.n(s),o=i("BO1k"),r=i.n(o),n=i("Dd8w"),a=i.n(n),h=i("uY1a"),d=i.n(h);e.a={data:function(){return{rowFocus:null,isFirefox:!1,pixelRatio:1,shiftDown:!1,ctrlDown:!1}},created:function(){this.isFirefox="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1},watch:{retract:function(){this.handleResize()}},mounted:function(){this.pixelRatio=window.devicePixelRatio},methods:{removeEvent:function(){window.removeEventListener("mousedown",this.handleMousedown,!1),window.removeEventListener("mousemove",d()(16,this.handleMousemove),!0),window.removeEventListener("mouseup",this.handleMouseup,!1),window.removeEventListener("resize",this.handleResize,!1),window.removeEventListener(this.isFirefox?"DOMMouseScroll":"mousewheel",this.handleWheel),window.removeEventListener("keydown",this.handleKeydown,!1),window.removeEventListener("keyup",this.handleKeyup,!1)},initEvent:function(){window.addEventListener("mousedown",this.handleMousedown,!1),window.addEventListener("mousemove",d()(16,this.handleMousemove),!0),window.addEventListener("mouseup",this.handleMouseup,!1),window.addEventListener("resize",this.handleResize,!1),window.addEventListener(this.isFirefox?"DOMMouseScroll":"mousewheel",this.handleWheel),window.addEventListener("keydown",this.handleKeydown,!1),window.addEventListener("keyup",this.handleKeyup,!1),this.$refs.canvas.addEventListener("dblclick",this.handleDoubleClick,!1),this.$refs.canvas.addEventListener("click",this.handleClick,!1)},handleMousedown:function(t){var e=this;this.save();var i=!1;"CANVAS"===t.target.tagName?setTimeout(function(){e.isDown=!0,e.hideInput(),e.selectArea=null,e.isSelect=!1,e.multiSelect=null,e.isMultiSelect=!1;var i=t.offsetX,s=t.offsetY;if(i>e.originPoint.x&&s>e.rowHeight&&i<e.maxPoint.x){var l=e.getCellAt(i,s);if(l&&!l.buttons&&!l.readOnly)if(e.shiftDown){var o=e.focusCell,r=o.x,n=o.y,h=o.width,d=o.height,f=o.rowIndex,u=o.cellIndex;i>=r&&i<=r+h&&s>=n&&s<=n+d?(e.selectArea=null,e.isSelect=!1,e.rePainted()):(l.x>=r&&l.y>=n?e.selectArea={x:r,y:n,width:l.x-r+l.width,height:l.y-n+l.height,cellIndex:u,rowIndex:f,offset:a()({},e.offset)}:l.x>=r&&l.y<=n?e.selectArea={x:r,y:l.y,width:l.x-r+l.width,height:n-l.y+d,rowIndex:l.rowIndex,cellIndex:u,offset:a()({},e.offset)}:l.x<=r&&l.y<=n?e.selectArea={x:l.x,y:l.y,width:r-l.x+h,height:n-l.y+d,rowIndex:l.rowIndex,cellIndex:l.cellIndex,offset:a()({},e.offset)}:l.x<=r&&l.y>=n&&(e.selectArea={x:l.x,y:n,width:r-l.x+h,height:l.y-n+l.height,rowIndex:f,cellIndex:l.cellIndex,offset:a()({},e.offset)}),e.selectArea.rowCount=Math.abs(l.rowIndex-f)+1,e.isSelect=!0,e.rePainted())}else e.focusCell=l,e.paintFocusCell(l),e.$emit("focus",l.rowData),e.calculateRate([l.rowData])}},0):"BUTTON"===t.target.tagName||t.target.classList.contains("input-content")||"CANVAS"!==t.target.tagName&&(this.isEditing&&(this.save(),this.hideInput(),i=!0),this.isSelect&&(this.selectArea=null,this.isSelect=!1,i=!0),this.showColumnSet&&setTimeout(function(){-1===t.path.indexOf(e.$refs.columnSet)&&(e.showColumnSet=!1,e.initSize())},0),i&&this.rePainted())},handleMousemove:function(t){if(this.isDown&&this.isFocus&&"CANVAS"===t.target.tagName){var e=t.offsetX,i=t.offsetY,s=this.focusCell,l=s.x,o=s.y,r=s.width,n=s.height,h=s.rowIndex,d=s.cellIndex;if(e>=l&&e<=l+r&&i>=o&&i<=o+n)this.selectArea&&(this.selectArea=null,this.isSelect=!1,this.rePainted());else{var f=this.getCellAt(e,i);f&&(f.x>=l&&f.y>=o?this.selectArea={x:l,y:o,width:f.x-l+f.width,height:f.y-o+f.height,cellIndex:d,rowIndex:h,offset:a()({},this.offset)}:f.x>=l&&f.y<=o?this.selectArea={x:l,y:f.y,width:f.x-l+f.width,height:o-f.y+n,rowIndex:f.rowIndex,cellIndex:d,offset:a()({},this.offset)}:f.x<=l&&f.y<=o?this.selectArea={x:f.x,y:f.y,width:l-f.x+r,height:o-f.y+n,rowIndex:f.rowIndex,cellIndex:f.cellIndex,offset:a()({},this.offset)}:f.x<=l&&f.y>=o&&(this.selectArea={x:f.x,y:o,width:l-f.x+r,height:f.y-o+f.height,rowIndex:h,cellIndex:f.cellIndex,offset:a()({},this.offset)}),this.selectArea.rowCount=Math.abs(f.rowIndex-h)+1,this.isSelect=!0,this.rePainted())}}if(this.verticalBar.move){var u=this.maxPoint.y-this.verticalBar.size,c=this.verticalBar.y+(t.screenY-this.verticalBar.cursorY);c>0&&c<u?this.verticalBar.y+=t.screenY-this.verticalBar.cursorY:this.verticalBar.y=c<=0?0:u,this.verticalBar.cursorY=t.screenY,this.offset.y=-this.verticalBar.y/this.verticalBar.k,requestAnimationFrame(this.rePainted)}if(this.horizontalBar.move){var y=0;y=this.fillWidth>0?this.maxPoint.x-this.horizontalBar.size:this.maxPoint.x+this.fixedWidth-this.horizontalBar.size;var x=this.horizontalBar.x+(t.screenX-this.horizontalBar.cursorX);x>0&&x<y?this.horizontalBar.x+=t.screenX-this.horizontalBar.cursorX:this.horizontalBar.x=x<=0?0:y,this.horizontalBar.cursorX=t.screenX,this.offset.x=-this.horizontalBar.x/this.horizontalBar.k,requestAnimationFrame(this.rePainted)}},handleMouseup:function(){this.isDown=!1,this.horizontalBar.move=!1,this.verticalBar.move=!1},handleResize:function(){this.selectArea=null,this.isSelect=!1,this.save(),this.hideInput(),this.initSize()},handleWheel:function(t){if("CANVAS"===t.target.tagName&&!this.isEditing){var e=t.deltaX,i=t.deltaY;if(Math.abs(e)>Math.abs(i)){var s=this.offset.x,l=0;l=this.fillWidth>0?this.maxPoint.x:this.maxPoint.x+this.fixedWidth,this.offset.x-e>0?this.offset.x=0:this.bodyWidth-l+this.offset.x<e?(this.offset.x=l-this.bodyWidth,l-this.bodyWidth<0?this.offset.x=l-this.bodyWidth:(t.preventDefault(),t.returnValue=!1)):(t.preventDefault(),t.returnValue=!1,this.offset.x-=e),s!==this.offset.x&&(requestAnimationFrame(this.rePainted),this.$emit("scroll"))}else{var o=this.offset.y;o-i>0?this.offset.y=0:this.bodyHeight-this.maxPoint.y+o<i?this.maxPoint.y-this.bodyHeight<0?this.offset.y=this.maxPoint.y-this.bodyHeight:(t.preventDefault(),t.returnValue=!1):(t.preventDefault(),t.returnValue=!1,this.offset.y-=i),o!==this.offset.y&&(requestAnimationFrame(this.rePainted),this.$emit("scroll"))}}},handleColumnSet:function(){this.showColumnSet=!1,this.focusCell=null,this.isFocus=!1,this.initSize()},handleClick:function(t){if(!this.isSelect){var e=t.offsetX,i=t.offsetY;if(e>this.maxPoint.x&&i>this.maxPoint.y&&e<this.width&&i<this.height&&this.fullScreen(),this.showCheckbox&&e>this.serialWidth&&e<this.originPoint.x){var s=this.getCheckboxAt(e,i);if(s)-1!==this.selected.indexOf(s.rowIndex)?this.selected.splice(this.selected.findIndex(function(t){return t===s.rowIndex}),1):this.selected.push(s.rowIndex),this.rePainted();else if(e>this.serialWidth+5&&e<this.serialWidth+5+20&&i>5+this.toolbarHeight&&i<25+this.toolbarHeight){if(this.selected.length===this.allRows.length)this.selected=[];else{this.selected=[];var l=!0,o=!1,n=void 0;try{for(var h,d=r()(this.allRows);!(l=(h=d.next()).done);l=!0){var f=h.value;this.selected.push(f.rowIndex)}}catch(t){o=!0,n=t}finally{try{!l&&d.return&&d.return()}finally{if(o)throw n}}}this.rePainted()}return}if(this.columnSet)if(this.showColumnSet)this.handleColumnSet();else if(e>55&&e<64&&i>7+this.toolbarHeight&&i<23+this.toolbarHeight)return void(this.showColumnSet=!0);var u=this.getHeadWord(e,i);u&&(this.offset.y=0,this.multiSelect={x:u.x,y:this.toolbarHeight+this.rowHeight,width:u.width,height:this.maxPoint.y-(this.toolbarHeight+this.rowHeight),cellIndex:u.cellIndex,offset:a()({},this.offset)},this.isMultiSelect=!0,this.focusCell=a()({},this.allCells[0][u.cellIndex],{height:this.allRows[0].height,offset:a()({},this.offset),x:u.x,y:this.toolbarHeight+this.rowHeight+this.offset.y}),this.isFocus=!0,this.rePainted());var c=this.getButtonAt(e,i);c&&(this.rowFocus=c,c.click(this.data[c.rowIndex],c.rowIndex),this.rePainted())}},handleDoubleClick:function(t){var e=t.offsetX,i=t.offsetY;if(this.focusCell&&e>this.focusCell.x&&e<this.focusCell.x+this.focusCell.width&&i>this.focusCell.y&&i<this.focusCell.y+this.focusCell.height){var s=this.focusCell,l=s.x,o=s.y,r=s.width,n=s.height,a=s.content;this.$refs.input.innerHTML=a,this.keepLastIndex(this.$refs.input),this.showInput(l,o,r,n)}},handleKeydown:function(t){if(this.isFocus){if(!this.isEditing)if(this.fxFocus||(38===t.keyCode?(t.preventDefault(),this.moveFocus("up")):40===t.keyCode?(t.preventDefault(),this.moveFocus("down")):37===t.keyCode?(t.preventDefault(),this.moveFocus("left")):39===t.keyCode&&(t.preventDefault(),this.moveFocus("right"))),16===t.keyCode)this.shiftDown=!0;else if(8===t.keyCode||46===t.keyCode)if(this.isSelect){var e=this.getCellsBySelect(this.selectArea),i=[],s=!0,l=!1,o=void 0;try{for(var n,a=r()(e);!(s=(n=a.next()).done);s=!0){var h=n.value,d={rowData:h[0].rowData,index:h[0].rowIndex,items:[]},f=!0,u=!1,c=void 0;try{for(var y,x=r()(h);!(f=(y=x.next()).done);f=!0){var v=y.value;v.readOnly?d.items.push({key:"",value:""}):d.items.push({key:v.key,value:""})}}catch(t){u=!0,c=t}finally{try{!f&&x.return&&x.return()}finally{if(u)throw c}}i.push(d)}}catch(t){l=!0,o=t}finally{try{!s&&a.return&&a.return()}finally{if(l)throw o}}this.$emit("update",i)}else this.fxFocus||this.$emit("updateItem",{index:this.focusCell.rowIndex,key:this.focusCell.key,value:""});else/macintosh|mac os x/i.test(navigator.userAgent)?90===t.keyCode&&t.metaKey?(t.preventDefault(),this.$emit("history_back")):89===t.keyCode&&t.metaKey?(t.preventDefault(),this.$emit("history_forward")):67===t.keyCode&&t.metaKey&&this.isSelect&&(t.preventDefault(),this.selectText(this.$refs.inputSelect),document.execCommand("Copy")):90===t.keyCode&&t.ctrlKey?(t.preventDefault(),this.$emit("history_back")):89===t.keyCode&&t.ctrlKey?(t.preventDefault(),this.$emit("history_forward")):67===t.keyCode&&t.ctrlKey&&this.isSelect&&(t.preventDefault(),this.selectText(this.$refs.inputSelect),document.execCommand("Copy"));13===t.keyCode?this.fxFocus||(this.save(),this.moveFocus("down")):27===t.keyCode?(this.hideInput(),this.$refs.input.innerHTML=""):9===t.keyCode&&(this.fxFocus||(this.save(),this.moveFocus("right")))}},handleKeyup:function(t){16===t.keyCode&&(this.shiftDown=!1)},moveFocus:function(t){if(this.focusCell){this.isSelect&&(this.selectArea=null,this.isSelect=!1),this.isMultiSelect&&(this.multiSelect=null,this.isMultiSelect=!1);var e=this.focusCell.rowIndex,i=this.focusCell.cellIndex;if(this.hideInput(),"up"===t)if(0!==this.getDisplayCellIndexByRowIndex(e))this.focusCell=l()({},this.getDisplayCellByRowIndex(this.displayCells,e-1,i),{offset:a()({},this.offset)}),this.focusCell.y<this.originPoint.y&&(this.offset.y+=this.originPoint.y-this.focusCell.y),this.paintFocusCell(this.focusCell);else{var s=this.displayRows[0].rowIndex;if(s>0){this.offset.y+=this.allRows[this.displayRows[0].rowIndex-1].height;var o=this.rePainted(),r=o.displayCells;this.focusCell=l()({},this.getDisplayCellByRowIndex(r,r[0][0].rowIndex,i),{offset:a()({},this.offset)}),this.paintFocusCell(this.focusCell)}}else if("down"===t)if(e!==this.displayCells[this.displayCells.length-1][0].rowIndex)this.focusCell=l()({},this.getDisplayCellByRowIndex(this.displayCells,e+1,i),{offset:a()({},this.offset)}),this.focusCell.y+this.focusCell.height>this.maxPoint.y&&(this.offset.y-=this.focusCell.y+this.focusCell.height-this.maxPoint.y),this.paintFocusCell(this.focusCell);else{var n=this.displayRows[this.displayRows.length-1].rowIndex;if(n<this.allRows.length-1){this.offset.y-=this.allRows[this.displayRows[this.displayRows.length-1].rowIndex+1].height;var h=this.rePainted(),d=h.displayCells;this.focusCell=l()({},this.getDisplayCellByRowIndex(d,d[d.length-1][0].rowIndex,i),{offset:a()({},this.offset)}),this.paintFocusCell(this.focusCell)}}else if("left"===t)if(i!==this.getFirstDisplayCellIndex(this.displayCells))this.focusCell=l()({},this.getDisplayCellByRowIndex(this.displayCells,e,i-1),{offset:a()({},this.offset)}),this.focusCell.x<this.originPoint.x&&(this.offset.x+=this.originPoint.x-this.focusCell.x),this.paintFocusCell(this.focusCell);else{var f=this.displayColumns[0].cellIndex;if(f>0){this.offset.x+=this.allColumns[f-1].width;var u=this.rePainted(),c=u.displayCells;this.focusCell=l()({},this.getDisplayCellByRowIndex(c,e,this.getFirstDisplayCellIndex(c)),{offset:a()({},this.offset)}),this.paintFocusCell(this.focusCell)}}else if("right"===t)if(i!==this.getLastDisplayCellIndex(this.displayCells))this.focusCell=l()({},this.getDisplayCellByRowIndex(this.displayCells,e,i+1),{offset:a()({},this.offset)}),this.focusCell.x+this.focusCell.width>this.maxPoint.x-this.fixedWidth&&(this.offset.x-=this.focusCell.x+this.focusCell.width-(this.maxPoint.x-this.fixedWidth)),this.paintFocusCell(this.focusCell);else{var y=this.displayColumns[this.displayColumns.length-1-this.displayFixedCells.length].cellIndex;if(y<this.allColumns.length-1){this.offset.x-=this.allColumns[y+1].width;var x=this.rePainted(),v=x.displayCells;this.focusCell=l()({},this.getDisplayCellByRowIndex(v,e,this.getLastDisplayCellIndex(v)),{offset:a()({},this.offset)}),this.paintFocusCell(this.focusCell)}}this.$emit("focus",this.focusCell.rowData),this.calculateRate([this.focusCell.rowData]),this.$emit("scroll")}},getDisplayCellByRowIndex:function(t,e,i){var s=!0,l=!1,o=void 0;try{for(var n,a=r()(t);!(s=(n=a.next()).done);s=!0){var h=n.value;if(h[0].rowIndex===e){var d=!0,f=!1,u=void 0;try{for(var c,y=r()(h);!(d=(c=y.next()).done);d=!0){var x=c.value;if(x.cellIndex===i)return x}}catch(t){f=!0,u=t}finally{try{!d&&y.return&&y.return()}finally{if(f)throw u}}}}}catch(t){l=!0,o=t}finally{try{!s&&a.return&&a.return()}finally{if(l)throw o}}return null},getDisplayCellIndexByRowIndex:function(t){var e=0,i=!0,s=!1,l=void 0;try{for(var o,n=r()(this.displayCells);!(i=(o=n.next()).done);i=!0){if(o.value[0].rowIndex===t)return e;e+=1}}catch(t){s=!0,l=t}finally{try{!i&&n.return&&n.return()}finally{if(s)throw l}}return null},getLastDisplayCellIndex:function(t){return t[0][t[0].length-1].cellIndex},getFirstDisplayCellIndex:function(t){return t[0][0].cellIndex},keepLastIndex:function(t){if(window.getSelection){t.focus();var e=window.getSelection();e.selectAllChildren(t),e.collapseToEnd()}else if(document.selection){var i=document.selection.createRange();i.moveToElementText(t),i.collapse(!1),i.select()}},selectText:function(t){if(document.selection){var e=document.body.createTextRange();e.moveToElementText(t),e.select()}else if(window.getSelection){var i=document.createRange();i.selectNodeContents(t),window.getSelection().removeAllRanges(),window.getSelection().addRange(i)}},paintFocusCell:function(t){t&&(this.rowFocus={cellX:t.x,cellY:t.y,rowIndex:t.rowIndex,offset:a()({},this.offset)},this.isFocus=!0,this.rePainted(),this.$refs.input.innerHTML="",this.focusInput())},focusInput:function(){var t=this;setTimeout(function(){t.$refs.input.focus()},0)}}}},frLY:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABXUlEQVRoQ+2ZwVEDMQxFJTdACYQOQgWkA9KFvSeSTrh51QVUACVsCUkHoQGL2SMzMfMVYrOZUc5//PXft3JYM934j298fvIA/92gN7DoBkRkq6ovzLzpPaiqHph5KqXsh2E41PyrVyjnvAkhfPQe/IzfqZTyWAtRDSAin0T0tIAApKrvKaXtuVl+C6BLGH6eYb5OKaWHPwWIMXb9xxKRHwBr/nADHsB4H70BlIARLCxH/X0HYKRGoTeAEjCCheWov+8AjNQo9AZQAkawsBz19x2AkRqF3gBKwAgWlqP+vgMwUqPQG0AJGMHCctTfdwBGahR6AygBI1hYjvr7DsBIjUJvQERORHRnBNdKfowxrkwfd8dxfGPm51YTWc696PN6znkVQpgW0MJXKWVtfuCYCc0hmPmVmddEdG+hdgXtUVUnVd1d9MR0hQG6HNH10aJFIg/QgqrlTG/AQquF9huB5SxAQNMDWAAAAABJRU5ErkJggg=="},hI1I:function(t,e,i){"use strict";function s(t){i("UAPn")}var l=i("QxkU"),o=i("YU9l"),r=i("VU/8"),n=s,a=r(l.a,o.a,!1,n,"data-v-67a033ac",null);e.a=a.exports},mycr:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__=__webpack_require__("BO1k"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_toConsumableArray__=__webpack_require__("Gu7T"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_toConsumableArray___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_toConsumableArray__),__WEBPACK_IMPORTED_MODULE_3__painted__=__webpack_require__("C25k"),__WEBPACK_IMPORTED_MODULE_4__events__=__webpack_require__("bseC"),__WEBPACK_IMPORTED_MODULE_5__calculate__=__webpack_require__("sk+Q"),__WEBPACK_IMPORTED_MODULE_6__scroller__=__webpack_require__("n9XI"),__WEBPACK_IMPORTED_MODULE_7__checkbox_vue__=__webpack_require__("hI1I"),__WEBPACK_IMPORTED_MODULE_8__history__=__webpack_require__("y90r"),__WEBPACK_IMPORTED_MODULE_9__utils__=__webpack_require__("ny/j");__webpack_exports__.a={mixins:[__WEBPACK_IMPORTED_MODULE_9__utils__.a,__WEBPACK_IMPORTED_MODULE_5__calculate__.a,__WEBPACK_IMPORTED_MODULE_3__painted__.a,__WEBPACK_IMPORTED_MODULE_4__events__.a,__WEBPACK_IMPORTED_MODULE_6__scroller__.a,__WEBPACK_IMPORTED_MODULE_8__history__.a],components:{checkbox:__WEBPACK_IMPORTED_MODULE_7__checkbox_vue__.a},props:{columns:Array,gridData:Array,type:{type:String,default:"default"},showCheckbox:{type:Boolean,default:!1},leftHeight:Number,showDot:Object,columnSet:{type:Boolean,default:!1},storageKey:{type:String,default:"gridStorage"},initSelected:Array,autoAddRow:{type:Boolean,default:!1},templateData:Object,showToolbar:{type:Boolean,default:!0},showRate:{type:Boolean,default:!1}},data:function(){return{keys:{37:1,38:1,39:1,40:1},ctx:null,isDown:!1,isEditing:!1,isSelect:!1,isFocus:!1,isMultiSelect:!1,selectArea:null,focusCell:null,multiSelect:null,currentText:"",inputStyles:{},valueTemp:"",data:null,showColumnSet:!1,ratio:1,showTip:!1,tipMessage:"",isPaste:!1,initRows:300,fxContent:"",fxFocus:!1,input:"",fxTip:"",sumRate:0,rate:0}},computed:{showBatchEditBtn:function(){return!!this.isSelect&&!(this.selectArea.width>this.allColumns[this.selectArea.cellIndex].width)},batchEditStyle:function(){var t=this.selectArea,e=t.x,i=t.y,s=t.width,l=t.height,o=i;return i<90&&(o=90),i+l<90&&(o=-90),{left:e+s+2+"px",top:o+"px"}}},watch:{gridData:function(t){this.data=[].concat(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_toConsumableArray___default()(t)),this.initCanvas(),this.painted(this.initDisplayItems()),this.initEvent()},focusCell:{handler:function(t){t&&(this.fxContent=t.content)},deep:!0},selectArea:function(t){if(t){var e=this.getCellsBySelect(this.selectArea),i="<table>",s=!0,l=!1,o=void 0;try{for(var r,n=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(e);!(s=(r=n.next()).done);s=!0){var a=r.value,h="<tr>",d=!0,f=!1,u=void 0;try{for(var c,y=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(a);!(d=(c=y.next()).done);d=!0){h+="<td>"+c.value.content+"</td>"}}catch(t){f=!0,u=t}finally{try{!d&&y.return&&y.return()}finally{if(f)throw u}}h+="</tr>",i+=h}}catch(t){l=!0,o=t}finally{try{!s&&n.return&&n.return()}finally{if(l)throw o}}i+="</table>",this.$refs.inputSelect.innerHTML=i}},fxContent:function(t){""+t&&0===(""+t).indexOf("=")&&console.log(this.evalUtil(""+t))}},created:function(){var t=this;this.data=[].concat(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_toConsumableArray___default()(this.gridData)),this.$on("updateNoSave",function(e){t.saveItems(e,!1)}),this.$on("update",function(e){t.$emit("updateValue",t.saveItems(e,!0))}),this.$on("updateItem",function(e){t.saveItem(e,!0)})},mounted:function(){this.$nextTick(function(){this.data.length>0&&(this.initCanvas(),this.initSize(),this.initEvent())})},destroyed:function(){this.removeEvent()},methods:{doPaste:function(){this.isPaste=!0},setValueTemp:function(t){this.valueTemp=t.target.innerText,this.fxContent=this.valueTemp;var e=this.focusCell,i=e.width,s=e.height,l=e.serialWidth,o=this.focusCell,r=o.x,n=o.y;if(r<l&&(this.offset.x+=l-r,r=l),n<this.rowHeight&&(this.offset.y+=this.rowHeight-n,n=this.rowHeight),this.isPaste)if(this.isEditing)this.isPaste=!1,t.target.innerHTML=t.target.innerText;else{this.isPaste=!1;var a=document.createElement("div");a.innerHTML=t.target.innerHTML;var h=a.childNodes;t.target.innerHTML="";for(var d=[],f=0;f<h.length;f+=1)if("TABLE"===h[f].tagName){var u=h[f].querySelectorAll("tr"),c=!0,y=!1,x=void 0;try{for(var v,_=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(u);!(c=(v=_.next()).done);c=!0){var w=v.value,p=[],C=!0,g=!1,m=void 0;try{for(var b,A=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(w.cells);!(C=(b=A.next()).done);C=!0){var I=b.value,k=I.innerText;k=k.replace(/^\s+|\s+$/g,""),p.push(k);var B=I.getAttribute("colspan");if(B)for(var P=1;P<B;P+=1)p.push("")}}catch(t){g=!0,m=t}finally{try{!C&&A.return&&A.return()}finally{if(g)throw m}}d.push(p)}}catch(t){y=!0,x=t}finally{try{!c&&_.return&&_.return()}finally{if(y)throw x}}}else d.push([this.valueTemp]);var T=[],E=0,D=0,R=this.focusCell.rowIndex,S=!0,W=!1,M=void 0;try{for(var F,O=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(d);!(S=(F=O.next()).done);S=!0){var H=F.value;if(this.autoAddRow||R<this.allRows.length){var z=this.getStartIndexByCellIndex(this.focusCell.cellIndex);if(D=z,z||0===z){for(var L=this.allColumns[z].key,K={rowData:this.autoAddRow?null:this.allCells[R][0].rowData,index:R,items:[]},U=!1,q=0;q<H.length;q+=1){U?K.items.push({key:"",value:""}):K.items.push({key:L,value:H[q]});var Y=this.nextKeyByIndex(z);if(!Y)break;L=Y.key,z=Y.index,U=Y.readOnly}z-1>E&&(E=z-1),R+=1,T.push(K)}}}}catch(t){W=!0,M=t}finally{try{!S&&O.return&&O.return()}finally{if(W)throw M}}var N=0;if(R-this.focusCell.rowIndex>1||E-D>0){for(var V=D;V<=E;V+=1)this.allColumns[V].checked&&(N+=this.allColumns[V].width+this.fillWidth);this.selectArea={x:this.focusCell.x,y:this.focusCell.y,width:N,rowIndex:this.focusCell.rowIndex,cellIndex:this.focusCell.cellIndex,rowCount:Math.abs(R-this.focusCell.rowIndex),offset:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},this.offset)},this.isSelect=!0}this.$emit("update",T)}else this.selectArea=null,this.isSelect=!1,this.rePainted(),this.showInput(r,n,i,s)},getStartIndexByCellIndex:function(t){var e=0,i=!0,s=!1,l=void 0;try{for(var o,r=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(this.allColumns);!(i=(o=r.next()).done);i=!0){if(o.value.cellIndex===t)return e;e+=1}}catch(t){s=!0,l=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw l}}return null},nextKeyByIndex:function(t){for(var e=t+1;e<this.allColumns.length;e+=1)if(this.allColumns[e].checked)return{key:this.allColumns[e].key,index:e,readOnly:this.allColumns[e].readOnly};return null},validateKeyType:function(t){var e=!0,i=!1,s=void 0;try{for(var l,o=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(this.allColumns);!(e=(l=o.next()).done);e=!0){var r=l.value;if(r.key===t)return"number"===r.type?{type:"number",title:r.title}:{type:"string",title:r.title}}}catch(t){i=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw s}}return{type:"string"}},save:function(){this.focusCell&&this.isEditing&&""+this.$refs.input.innerText!=""+this.allCells[this.focusCell.rowIndex][this.focusCell.cellIndex].content&&this.$emit("updateItem",{index:this.focusCell.rowIndex,key:this.focusCell.key,value:this.$refs.input.innerText})},saveItem:function(t,e){var i=t.index,s=t.key,l=t.value,o=this.validateKeyType(s);if(o){if("number"===o.type){var r=/^(([1-9][0-9]*\.[0-9][0-9]*)|([0]\.[0-9][0-9]*)|([1-9][0-9]*)|([0]{1}))$/;if(l&&!r.test(l))return void this.showTipMessage("【 "+o.title+" 】单元格只支持数字。");l||(l=null)}e&&this.pushState({type:"edit",before:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},t,{value:this.data[i][s]}),after:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},t)}),this.data[i][s]=l,this.setCellItemByKey(i,s,l),this.rePainted(),this.$emit("updateValue",[{rowData:this.data[i],items:[{key:s,value:l}]}])}},saveItems:function(t,e){var i=[],s=/^(([1-9][0-9]*\.[0-9][0-9]*)|([0]\.[0-9][0-9]*)|([1-9][0-9]*)|([0]{1}))$/,l=[],o={type:"editMore",focusCell:this.focusCell,selectArea:this.selectArea,after:[].concat(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_toConsumableArray___default()(t))};if(t.length>this.data.length)if(this.autoAddRow){for(var r=this.data.length,n=t.length-this.data.length,a=0;a<n;a+=1)this.data.push(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},this.templateData));this.setAllCells(r),this.initRows=this.data.length}else t.splice(this.data.length,t.length-this.data.length);var h=[],d=!0,f=!1,u=void 0;try{for(var c,y=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(t);!(d=(c=y.next()).done);d=!0){var x=c.value,v={rowData:x.rowData,index:x.index,items:[]},_={rowData:x.rowData,items:[],index:x.index},w=!0,p=!1,C=void 0;try{for(var g,m=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(x.items);!(w=(g=m.next()).done);w=!0){var b=g.value,A=this.validateKeyType(b.key);if(A){if("number"===A.type){if(b.value&&!s.test(b.value)){-1===l.indexOf(A.title)&&l.push(A.title);continue}b.value||(b.value=null)}v.items.push({key:b.key,value:this.data[x.index][b.key]}),this.data[x.index][b.key]=b.value,this.setCellItemByKey(x.index,b.key,b.value),_.items.push({key:b.key,value:b.value})}}}catch(t){p=!0,C=t}finally{try{!w&&m.return&&m.return()}finally{if(p)throw C}}i.push(_),h.push(v)}}catch(t){f=!0,u=t}finally{try{!d&&y.return&&y.return()}finally{if(f)throw u}}return o.before=[].concat(h),e&&this.pushState(o),l.length>0&&this.showTipMessage("【 "+l.join(",")+" 】单元格只支持数字。"),this.rePainted(),i},handleFxInput:function(){if(this.fxTip="",0!==this.fxContent.indexOf("=")&&!this.focusCell.readOnly)if(this.multiSelect){for(var t=[],e=0;e<this.allRows.length;e+=1){var i=this.focusCell.key,s={rowData:this.focusCell.rowData,index:e,items:[{key:i,value:this.fxContent}]};t.push(s)}this.$emit("update",t)}else this.$emit("updateItem",{index:this.focusCell.rowIndex,key:this.focusCell.key,value:this.fxContent})},handleFxBlur:function(){this.fxFocus=!1,this.paintFocusCell(this.focusCell)},handleInputBlur:function(){},handleFxKeyup:function(t){13===t.keyCode&&0===this.fxContent.indexOf("=")&&this.evalExpression()},evalExpression:function(){try{var t=this.evalUtil(this.fxContent),e=!0,i=!1,s=void 0;try{for(var l,o=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(t);!(e=(l=o.next()).done);e=!0){var r=l.value;r.indexArray&&r.indexArray.length>0&&r.regionType?this.doEquation.apply(this,__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_toConsumableArray___default()(r)):this.doEquation(r.equation)}}catch(t){i=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw s}}}catch(t){console.log(t),this.fxTip="非法表达式"}},doEquation:function doEquation(equation,indexs,type){if(indexs&&type){var modifyData=[];if("include"===type){this.fxContent=eval(equation.replace("$x$",indexs[0]));var _iteratorNormalCompletion11=!0,_didIteratorError11=!1,_iteratorError11=void 0;try{for(var _iterator11=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(indexs),_step11;!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=!0){var i=_step11.value,key=this.focusCell.key,valueTemp=eval(equation.replace("$x$",i));"number"===this.focusCell.type&&(valueTemp=parseFloat(valueTemp.toFixed(2)));var temp={rowData:this.allCells[i][this.focusCell.cellIndex].rowData,index:i,items:[{key:key,value:valueTemp}]};modifyData.push(temp)}}catch(t){_didIteratorError11=!0,_iteratorError11=t}finally{try{!_iteratorNormalCompletion11&&_iterator11.return&&_iterator11.return()}finally{if(_didIteratorError11)throw _iteratorError11}}}else for(var isFirstIndex=!0,_i4=0;_i4<this.allRows.length;_i4+=1)if(-1===indexs.indexOf(_i4)){isFirstIndex&&(this.fxContent=eval(equation.replace("$x$",_i4))),isFirstIndex=!1;var _key=this.focusCell.key,_valueTemp=eval(equation.replace("$x$",_i4));"number"===this.focusCell.type&&(_valueTemp=parseFloat(_valueTemp.toFixed(2)));var _temp={rowData:this.allCells[_i4][this.focusCell.cellIndex].rowData,index:_i4,items:[{key:_key,value:_valueTemp}]};modifyData.push(_temp)}this.$emit("update",modifyData)}else if(this.multiSelect){var _modifyData=[];this.fxContent=eval(equation.replace("$x$",0));for(var _i5=0;_i5<this.allRows.length;_i5+=1){var _key2=this.focusCell.key,_valueTemp2=eval(equation.replace("$x$",_i5));"number"===this.focusCell.type&&(_valueTemp2=parseFloat(_valueTemp2.toFixed(2)));var _temp2={rowData:this.allCells[_i5][0].rowData,index:_i5,items:[{key:_key2,value:_valueTemp2}]};_modifyData.push(_temp2)}this.$emit("update",_modifyData)}else this.fxContent=eval(equation.replace("$x$",this.focusCell.rowIndex)),this.$emit("updateItem",{index:this.focusCell.rowIndex,key:this.focusCell.key,value:this.fxContent})},handleDoRegionExpress:function(){if(this.selectArea){var t=this.selectArea,e=t.rowIndex,i=t.rowCount;this.fxContent="=include("+(e+1)+"-"+(e+i)+")=>",this.focusFxInput(),this.selectArea=null,this.isSelect=!1,this.rePainted()}},focusFxInput:function(){var t=this;setTimeout(function(){t.$refs["fx-input"].focus()},0)}}}},n9XI:function(t,e,i){"use strict";e.a={data:function(){return{horizontalBar:{x:0,size:0,move:!1,cursorX:0,k:1},verticalBar:{y:0,size:0,move:!1,cursorY:0,k:1}}},created:function(){var t=this;this.$on("scroll",function(){t.horizontalBar.x=-parseInt(t.offset.x*t.horizontalBar.k,10),t.verticalBar.y=-parseInt(t.offset.y*t.verticalBar.k,10)})},mounted:function(){},methods:{scroll:function(t,e){if(e&&this.verticalBar.size)if(t.offsetY<this.verticalBar.y){var i=15;this.verticalBar.y-t.offsetY<15&&(i=this.verticalBar.y-t.offsetY),this.verticalBar.y-=i,this.offset.y=-this.verticalBar.y/this.verticalBar.k,requestAnimationFrame(this.rePainted)}else if(t.offsetY>this.verticalBar.y+this.verticalBar.size){var s=15;t.offsetY-this.verticalBar.y-this.verticalBar.size<15&&(s=t.offsetY-this.verticalBar.y-this.verticalBar.size),this.verticalBar.y+=s,this.offset.y=-this.verticalBar.y/this.verticalBar.k,requestAnimationFrame(this.rePainted)}if(0===e&&this.horizontalBar.size)if(t.offsetX<this.horizontalBar.x){var l=15;this.horizontalBar.x-t.offsetX<15&&(l=this.horizontalBar.x-t.offsetX),this.horizontalBar.x-=l,this.offset.x=-this.horizontalBar.x/this.horizontalBar.k,requestAnimationFrame(this.rePainted)}else if(t.offsetX>this.horizontalBar.x+this.horizontalBar.size){var o=15;t.offsetX-this.horizontalBar.x-this.horizontalBar.size<15&&(o=t.offsetX-this.horizontalBar.x-this.horizontalBar.size),this.horizontalBar.x+=o,this.horizontalBar.x+=15,this.offset.x=-this.horizontalBar.x/this.horizontalBar.k,requestAnimationFrame(this.rePainted)}},dragMove:function(t,e){e?(this.verticalBar.move=!0,this.verticalBar.cursorY=t.screenY):(this.horizontalBar.move=!0,this.horizontalBar.cursorX=t.screenX)},resetScrollBar:function(t,e,i,s){var l=t.x,o=t.y,r=0;r=this.fillWidth>0?l:l+s;var n=r/e;this.horizontalBar.size=n>=1?0:r-(e-r)*n,this.horizontalBar.k=n;var a=o/i;a>1?this.verticalBar.size=0:(this.verticalBar.size=o-(i-o)*a,this.verticalBar.size<30&&(this.verticalBar.size=30,a=(o-30)/(i-o))),this.verticalBar.k=a,r-this.horizontalBar.size<-this.offset.x*this.horizontalBar.k&&(this.offset.x=r-this.bodyWidth),this.verticalBar.k>1?this.offset.y=0:this.maxPoint.y-this.verticalBar.size<-this.offset.y*this.verticalBar.k&&(this.offset.y=this.maxPoint.y-this.bodyHeight),this.horizontalBar.x=-this.offset.x*this.horizontalBar.k,this.verticalBar.y=-this.offset.y*this.verticalBar.k}}}},"ny/j":function(t,e,i){"use strict";var s=i("Dd8w"),l=i.n(s),o=i("woOf"),r=i.n(o),n=i("BO1k"),a=i.n(n);e.a={methods:{getTextLine:function(t,e,i){if(!e&&0!==e)return null;for(var s=(""+e).split(""),l="",o=[],r=0;r<s.length;r+=1)t.measureText(l).width>=i-20&&(o.push(l),l=""),l+=s[r];return o.push(l),o},getCellAt:function(t,e){var i=!0,s=!1,o=void 0;try{for(var n,h=a()(this.displayCells);!(i=(n=h.next()).done);i=!0){var d=n.value,f=!0,u=!1,c=void 0;try{for(var y,x=a()(d);!(f=(y=x.next()).done);f=!0){var v=y.value;if(t>=v.x&&e>=v.y&&t<=v.x+v.width&&e<=v.y+v.height)return r()({},v,{offset:l()({},this.offset)})}}catch(t){u=!0,c=t}finally{try{!f&&x.return&&x.return()}finally{if(u)throw c}}}}catch(t){s=!0,o=t}finally{try{!i&&h.return&&h.return()}finally{if(s)throw o}}return null},getCheckboxAt:function(t,e){var i=!0,s=!1,l=void 0;try{for(var o,n=a()(this.checkboxs);!(i=(o=n.next()).done);i=!0){var h=o.value;if(t>=h.x&&e>=h.y&&t<=h.x+h.width&&e<=h.y+h.height)return r()({},h)}}catch(t){s=!0,l=t}finally{try{!i&&n.return&&n.return()}finally{if(s)throw l}}return null},getButtonAt:function(t,e){var i=!0,s=!1,l=void 0;try{for(var o,n=a()(this.renderButtons);!(i=(o=n.next()).done);i=!0){var h=o.value;if(t>=h.x&&e>=h.y&&t<=h.x+h.width&&e<=h.y+h.height)return r()({},h)}}catch(t){s=!0,l=t}finally{try{!i&&n.return&&n.return()}finally{if(s)throw l}}return null},getHeadWord:function(t,e){if(e>this.toolbarHeight-this.rowHeight&&e<this.toolbarHeight){var i=!0,s=!1,l=void 0;try{for(var o,n=a()(this.displayColumns);!(i=(o=n.next()).done);i=!0){var h=o.value;if(t>h.x&&t<h.x+h.width)return r()({},h)}}catch(t){s=!0,l=t}finally{try{!i&&n.return&&n.return()}finally{if(s)throw l}}}return null},getCellsBySelect:function(t){for(var e=[],i=t.rowIndex;i<t.rowIndex+t.rowCount;i+=1){for(var s=this.allCells[i],l=[],o=0,r=1/0,n=0;n<s.length;n+=1){if(t.cellIndex===n&&(r=o+t.width),o<r&&n>=t.cellIndex)l.push(s[n]);else if(o>r)break;o+=s[n].width+this.fillWidth}e.push(l)}return e},getCellByRowAndKey:function(t,e){var i=this.allCells[t],s=!0,l=!1,o=void 0;try{for(var r,n=a()(i);!(s=(r=n.next()).done);s=!0){var h=r.value;if(h.key===e)return h}}catch(t){l=!0,o=t}finally{try{!s&&n.return&&n.return()}finally{if(l)throw o}}return null},showInput:function(t,e,i,s){this.isEditing=!0,this.inputStyles={position:"absolute",top:e-1+"px",left:t-1+"px",minWidth:i+2+"px",maxWidth:(this.maxPoint.x-t>300?300:this.maxPoint.x-t)+"px",minHeight:s+2+"px"}},hideInput:function(){this.isEditing=!1,this.inputStyles={top:"-10000px",left:"-10000px"}},showTipMessage:function(t){var e=this;this.tipMessage=t,this.showTip=!0,setTimeout(function(){e.showTip=!1},2e3)},evalUtil:function(t){var e=t.replace("=","").replace(/ /gi,"").toUpperCase(),i=e.split("&"),s=[],l=!0,o=!1,r=void 0;try{for(var n,h=a()(i);!(l=(n=h.next()).done);l=!0){var d=n.value,f="",u=d,c=[];if(-1!==d.indexOf("=>")){var y=d.split("=>")[0];u=d.split("=>")[1];if(!/^(include)?\(.+\)|(exclude|!)\(.+\)$/i.test(y))throw new Error("区域表达式非法");var x=y.match(/\(.+\)/)[0].replace("(","").replace(")","").split(","),v=!0,_=!1,w=void 0;try{for(var p,C=a()(x);!(v=(p=C.next()).done);v=!0){var g=p.value;if(-1!==g.indexOf("-")){var m=g.split("-");if(2!==m.length)throw new Error("区域表达式非法");if(!isNaN(m[0])&&!isNaN(m[1])&&parseInt(m[0],10)>0&&parseInt(m[0],10)<parseInt(m[1],10))for(var b=m[0]-1;b<m[1];b+=1)c.push(b)}else{if(isNaN(g))throw new Error("区域表达式非法");c.push(parseInt(g,10)-1)}}}catch(t){_=!0,w=t}finally{try{!v&&C.return&&C.return()}finally{if(_)throw w}}/^(include)?\(.+\)$/i.test(y)?f="include":/^(exclude|!)\(.+\)$/i.test(y)&&(f="exclude")}if(u){var A=0,I=!0,k=!1,B=void 0;try{for(var P,T=a()(this.words);!(I=(P=T.next()).done);I=!0){var E=P.value;-1!==u.indexOf(E)&&(u=u.replace(new RegExp(E,"gi"),"this.allCells[$x$]["+A+"].content")),A+=1}}catch(t){k=!0,B=t}finally{try{!I&&T.return&&T.return()}finally{if(k)throw B}}}s.push({equation:u,indexArray:c,regionType:f})}}catch(t){o=!0,r=t}finally{try{!l&&h.return&&h.return()}finally{if(o)throw r}}return s}}}},o8pN:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-view")],1)},l=[],o={render:s,staticRenderFns:l};e.a=o},rDfC:function(t,e,i){"use strict";var s=i("KPCv");e.a=s.a},s6lA:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"grid",staticClass:"excel-table",style:"height:"+(t.height+2)+"px;",on:{paste:t.doPaste}},[t.showBatchEditBtn?s("button",{staticClass:"select-tip-btn",style:t.batchEditStyle,on:{click:t.handleDoRegionExpress}},[t._v("批量编辑")]):t._e(),t._v(" "),t.showToolbar?s("div",{staticClass:"toolbar"},[s("div",{staticClass:"toolbar__focus",style:"width:"+(t.serialWidth+(t.showCheckbox?t.checkboxWidth:0)+1)+"px;"},[t._v("\n            "+t._s(t.focusCell?t.focusCell.cellPosition:"")+"\n        ")]),t._v(" "),s("div",{staticClass:"toobar__fx"},[s("label",[t._v("\n                批量处理：\n            ")]),t._v(" "),s("div",{staticClass:"toobar__fx-content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fxContent,expression:"fxContent"}],ref:"fx-input",attrs:{type:"text",disabled:!t.focusCell||t.focusCell.readOnly},domProps:{value:t.fxContent},on:{input:[function(e){e.target.composing||(t.fxContent=e.target.value)},t.handleFxInput],focus:function(e){t.fxFocus=!0},blur:t.handleFxBlur,keyup:t.handleFxKeyup}}),t._v(" "),t.fxTip?s("div",{staticClass:"toobar__fx-tip"},[t._v(t._s(t.fxTip))]):t._e()])]),t._v(" "),t.showRate?s("div",{staticClass:"toobar__rate"},[s("label",[t._v("\n                整单利率：\n                "),s("span",[t._v(" "+t._s(t.sumRate)+"%")])]),t._v(" "),s("label",[t._v("\n                选中商品毛利率：\n                "),s("span",[t._v(" "+t._s(t.rate)+"%")])]),t._v(" "),t._m(0)]):t._e()]):t._e(),t._v(" "),s("div",{ref:"input",staticClass:"input-content",style:t.inputStyles,attrs:{contenteditable:"true"},on:{input:t.setValueTemp,blur:t.handleInputBlur,keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key))return null;e.preventDefault()},function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;e.preventDefault()},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key))return null;e.preventDefault()}]}}),t._v(" "),s("div",{ref:"inputSelect",staticClass:"input-content",attrs:{contenteditable:"true"},on:{keydown:function(t){t.preventDefault()}}}),t._v(" "),s("div",{staticClass:"horizontal-container",style:{width:t.width-t.scrollerWidth+2+"px"},on:{click:function(e){t.scroll(e,0)}}},[s("div",{ref:"horizontal",staticClass:"scroll-bar-horizontal",style:{width:t.horizontalBar.size+"px",left:t.horizontalBar.x+"px"},on:{mousedown:function(e){t.dragMove(e,0)}}},[s("div",{style:t.horizontalBar.move?"background-color:#a1a1a1;":"background-color:#c1c1c1;"})])]),t._v(" "),s("div",{staticClass:"vertical-container",style:{height:t.height-t.scrollerWidth+2+"px"},on:{click:function(e){t.scroll(e,1)}}},[s("div",{ref:"horizontal",staticClass:"scroll-bar-vertical",style:{height:t.verticalBar.size+"px",top:t.verticalBar.y+"px"},on:{mousedown:function(e){t.dragMove(e,1)}}},[s("div",{style:t.verticalBar.move?"background-color:#a1a1a1;":"background-color:#c1c1c1;"})])]),t._v(" "),s("transition",{attrs:{name:"slide-fade"}},[t.showTip?s("div",{staticClass:"tip"},[s("i",{staticClass:"tip-icon",style:"background-image:url("+i("Wiz0")+");"}),t._v("\n            "+t._s(t.tipMessage)+"\n        ")]):t._e()]),t._v(" "),s("transition",{attrs:{name:"slide-fade"}},[t.showColumnSet?s("div",{ref:"columnSet",staticClass:"column-set",style:"top:"+(31+t.toolbarHeight)+"px;"},[s("div",{staticClass:"column-set__title"},[t._v("请选择需要显示的列")]),t._v(" "),s("div",{staticClass:"column-set__content",style:"max-height:"+(t.height-105)+"px;"},[s("ul",t._l(t.allColumns,function(e){return s("li",{key:e.id},[s("checkbox",{model:{value:e.checked,callback:function(i){t.$set(e,"checked",i)},expression:"item.checked"}},[t._v(t._s(e.title))])],1)}))]),t._v(" "),s("div",{staticClass:"column-set__footer"},[s("button",{on:{click:t.handleColumnSet}},[t._v("确定")])])]):t._e()]),t._v(" "),s("canvas",{ref:"canvas",style:"width:"+t.width+"px;height:"+t.height+"px;",attrs:{width:t.width,height:t.height}})],1)},l=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"help"},[t._v("?\n                "),i("div",{staticClass:"help-content"},[i("p",[t._v("毛利率计算公式：（销售价-采购价）/销售价")]),t._v(" "),i("p",[t._v("整单毛利计算规则：销售价和采购价都不为空的商品计入整单毛利")])])])}],o={render:s,staticRenderFns:l};e.a=o},"sk+Q":function(t,e,i){"use strict";var s=i("woOf"),l=i.n(s),o=i("Gu7T"),r=i.n(o),n=i("Dd8w"),a=i.n(n),h=i("BO1k"),d=i.n(h);e.a={data:function(){var t=this.leftHeight?window.innerHeight-this.leftHeight:500,e=70;this.showCheckbox&&(e+=30);var i=0;return this.showToolbar&&(i=60),{width:0,height:t,rowHeight:30,scrollerWidth:20,fixedWidth:0,bodyWidth:0,bodyHeight:0,serialWidth:70,checkboxWidth:30,fillWidth:0,toolbarHeight:i,allCells:[],displayCells:[],allRows:[],displayRows:[],allColumns:[],displayColumns:[],allFixedCells:[],displayFixedCells:[],fixedColumns:[],renderButtons:[],checkboxs:[],selected:[],offset:{x:0,y:0},originPoint:{x:e,y:30},maxPoint:{x:0,y:t-20}}},watch:{showCheckbox:function(){this.initSize()},leftHeight:function(){this.initSize()}},mounted:function(){this.width=this.$refs.grid.offsetWidth-2,this.height=this.leftHeight?window.innerHeight-this.leftHeight:500,this.maxPoint.y=this.height-this.scrollerWidth,this.bodyWidth=this.originPoint.x;var t=!0,e=!1,i=void 0;try{for(var s,l=d()(this.columns);!(t=(s=l.next()).done);t=!0){var o=s.value;this.bodyWidth+=o.width?o.width:100}}catch(t){e=!0,i=t}finally{try{!t&&l.return&&l.return()}finally{if(e)throw i}}this.bodyWidth<this.width-this.scrollerWidth&&(this.fillWidth=(this.width-this.bodyWidth-this.scrollerWidth)/this.columns.length,this.bodyWidth=this.width-this.scrollerWidth)},methods:{getAllCells:function(t,e){this.allCells=[],this.allRows=[],this.allColumns=[],this.allFixedCells=[],this.fixedColumns=[],this.fixedWidth=0;var i=this.rowHeight,s=this.ctx,l=this.getTextLine,o=this.allRows,r=this.allCells,n=this.allColumns,h=this.fixedColumns,f=this.allFixedCells,u=0,c=0,y=0,x=!0,v=!1,_=void 0;try{for(var w,p=d()(t);!(x=(w=p.next()).done);x=!0){var C=w.value,g=i,m=0,b=[];C.salePrice>0&&C.purchasePrice>0&&(c+=parseFloat(C.salePrice),y+=parseFloat(C.purchasePrice));var A=!0,I=!1,k=void 0;try{for(var B,P=d()(e);!(A=(B=P.next()).done);A=!0){var T=B.value;0===u&&(T.fixed?(this.fixedWidth+=T.width,h.push(a()({cellIndex:m},T)),n.push(a()({height:i,cellIndex:m},T,{checked:!0}))):n.push(a()({height:i,cellIndex:m},T,{checked:!0})));var E="",D=void 0,R=void 0;if(T.renderText?E=T.renderText(C):T.renderButton?D=T.renderButton(this.data[u],u):E=C[T.key],E||0===E){R=l(s,E,T.width?T.width:100);var S=0;R&&(S=R.length),S>1&&g<i+18*(S-1)&&(g=i+18*(S-1))}T.fixed,b.push({width:T.width?T.width:100,content:C[T.key],key:T.key,rowIndex:u,cellIndex:m,paintText:R,fixed:!0===T.fixed,readOnly:!0===T.readOnly,buttons:D,renderText:T.renderText,renderButton:T.renderButton,rowData:C,type:T.type,cellPosition:this.words[m]+(u+1)}),m+=1}}catch(t){I=!0,k=t}finally{try{!A&&P.return&&P.return()}finally{if(I)throw k}}r.push(b);var W=!1;this.showDot&&C[this.showDot.key]===this.showDot.value&&(W=!0),o.push({height:g,rowIndex:u,showDot:W}),u+=1}}catch(t){v=!0,_=t}finally{try{!x&&p.return&&p.return()}finally{if(v)throw _}}this.sumRate=c>0&&y>0?parseFloat(((c-y)/c*100).toFixed(2)):0;var M=!0,F=!1,O=void 0;try{for(var H,z=d()(h);!(M=(H=z.next()).done);M=!0){var L=H.value,K=[],U=0,q=!0,Y=!1,N=void 0;try{for(var V,$=d()(r);!(q=(V=$.next()).done);q=!0){var Q=V.value,X=Q[L.cellIndex];K.push(a()({},X,{height:o[U].height})),U+=1}}catch(t){Y=!0,N=t}finally{try{!q&&$.return&&$.return()}finally{if(Y)throw N}}f.push(K)}}catch(t){F=!0,O=t}finally{try{!M&&z.return&&z.return()}finally{if(F)throw O}}},fullScreen:function(){},initSize:function(){if(this.$refs.grid){this.width=this.$refs.grid.offsetWidth-2,this.height=this.leftHeight?window.innerHeight-this.leftHeight:500,this.showCheckbox?(this.initSelected&&(this.selected=[].concat(r()(this.initSelected))),this.originPoint.x=this.serialWidth+this.checkboxWidth,this.bodyWidth+=this.checkboxWidth):(this.originPoint.x=this.serialWidth,this.bodyWidth-=this.checkboxWidth),this.bodyWidth=this.originPoint.x;var t=0,e=!0,i=!1,s=void 0;try{for(var l,o=d()(this.allColumns);!(e=(l=o.next()).done);e=!0){var n=l.value;n.checked&&(this.bodyWidth+=n.width?n.width:100,t+=1)}}catch(t){i=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw s}}this.fillWidth=0,this.bodyWidth<this.width-this.scrollerWidth&&(this.fillWidth=(this.width-this.bodyWidth-this.scrollerWidth)/t,this.bodyWidth=this.width-this.scrollerWidth),this.setBodyHeight(this.allRows,this.originPoint),this.setFixedWidth(this.allColumns,this.fillWidth),this.setMaxpoint(this.width,this.height,this.fixedWidth,this.scrollerWidth,this.fillWidth),this.resetScrollBar(this.maxPoint,this.bodyWidth,this.bodyHeight,this.fixedWidth),requestAnimationFrame(this.rePainted)}},setFixedWidth:function(t,e){this.fixedWidth=0;var i=!0,s=!1,l=void 0;try{for(var o,r=d()(t);!(i=(o=r.next()).done);i=!0){var n=o.value;n.checked&&n.fixed&&(this.fixedWidth+=n.width?n.width:100,this.fixedWidth+=e)}}catch(t){s=!0,l=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw l}}},setBodyHeight:function(t,e){var i=e.y;this.bodyHeight=i+this.toolbarHeight;var s=!0,l=!1,o=void 0;try{for(var r,n=d()(t);!(s=(r=n.next()).done);s=!0){var a=r.value;this.bodyHeight+=a.height}}catch(t){l=!0,o=t}finally{try{!s&&n.return&&n.return()}finally{if(l)throw o}}},setMaxpoint:function(t,e,i,s,l){this.maxPoint.x=l>0?t-s:t-s-i,this.maxPoint.y=e-s},setAllCells:function(t){for(var e=this.rowHeight,i=this.ctx,s=this.getTextLine,l=this.allRows,o=this.allCells,r=this.columns,n=t,a=0,h=0,f=t;f<this.data.length;f+=1){var u=this.data[f],c=e,y=0,x=[];u.salePrice>0&&u.purchasePrice>0&&(a+=parseFloat(u.salePrice),h+=parseFloat(u.purchasePrice));var v=!0,_=!1,w=void 0;try{for(var p,C=d()(r);!(v=(p=C.next()).done);v=!0){var g=p.value,m="",b=void 0,A=void 0;if(g.renderText?m=g.renderText(u):g.renderButton?b=g.renderButton(this.data[n],n):m=u[g.key],m||0===m){A=s(i,m,g.width?g.width:100);var I=0;A&&(I=A.length),I>1&&c<e+18*(I-1)&&(c=e+18*(I-1))}x.push({width:g.width?g.width:100,content:u[g.key],key:g.key,rowIndex:n,cellIndex:y,paintText:A,fixed:!0===g.fixed,readOnly:!0===g.readOnly,buttons:b,renderText:g.renderText,renderButton:g.renderButton,rowData:u,type:g.type}),y+=1}}catch(t){_=!0,w=t}finally{try{!v&&C.return&&C.return()}finally{if(_)throw w}}o.push(x);var k=!1;this.showDot&&u[this.showDot.key]===this.showDot.value&&(k=!0),l.push({height:c,rowIndex:n,showDot:k}),n+=1}this.sumRate=a>0&&h>0?parseFloat(((a-h)/a*100).toFixed(2)):0,this.setBodyHeight(this.allRows,this.originPoint),this.resetScrollBar(this.maxPoint,this.bodyWidth,this.bodyHeight,this.fixedWidth)},setCellItem:function(t,e,i){var s=this.ctx,l=this.allRows,o=this.allCells,r=this.getTextLine,n=this.rowHeight,a=l[t],h=o[t][e],d=0,f=r(s,i,h.width),u=0;f&&(u=f.length),u>1&&d<n+18*(u-1)&&(d=n+18*(u-1)),d>a.height&&(a.height=d),h.content=i,h.paintText=f},setCellItemByKey:function(t,e,i){var s=this.ctx,l=this.allRows,o=this.allCells,r=this.getTextLine,n=this.rowHeight,a=l[t],h=o[t],f=0,u=null;"salePrice"!==e&&"purchasePrice"!==e||(this.calculateSumRate(),this.focusCell&&t===this.focusCell.rowIndex&&this.calculateRate([this.focusCell.rowData]));var c=!0,y=!1,x=void 0;try{for(var v,_=d()(h);!(c=(v=_.next()).done);c=!0){if(v.value.key===e){u=o[t][f];break}f+=1}}catch(t){y=!0,x=t}finally{try{!c&&_.return&&_.return()}finally{if(y)throw x}}if(u){var w=0,p=r(s,i,u.width),C=0;p&&(C=p.length),C>1&&w<n+18*(C-1)&&(w=n+18*(C-1)),w>a.height&&(a.height=w,this.initSize()),u.content=i,u.paintText=p,this.focusCell&&this.focusCell.rowIndex===t&&this.focusCell.cellIndex===u.cellIndex&&(this.focusCell.content=i,this.focusCell.paintText=p)}},calculateRate:function(t){var e=0,i=0,s=!0,l=!1,o=void 0;try{for(var r,n=d()(t);!(s=(r=n.next()).done);s=!0){var a=r.value;a.salePrice>0&&a.purchasePrice>0&&(e+=parseFloat(a.salePrice),i+=parseFloat(a.purchasePrice))}}catch(t){l=!0,o=t}finally{try{!s&&n.return&&n.return()}finally{if(l)throw o}}this.rate=e>0&&i>0?parseFloat(((e-i)/e*100).toFixed(2)):0},calculateSumRate:function(){var t=0,e=0,i=!0,s=!1,l=void 0;try{for(var o,r=d()(this.data);!(i=(o=r.next()).done);i=!0){var n=o.value;n.salePrice>0&&n.purchasePrice>0&&(t+=parseFloat(n.salePrice),e+=parseFloat(n.purchasePrice))}}catch(t){s=!0,l=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw l}}this.sumRate=t>0&&e>0?parseFloat(((t-e)/t*100).toFixed(2)):0},setCellItemAll:function(t,e){var i=0,s=!0,l=!1,o=void 0;try{for(var r,n=d()(e);!(s=(r=n.next()).done);s=!0){var a=r.value;this.setCellItem(t,i,a),i+=1}}catch(t){l=!0,o=t}finally{try{!s&&n.return&&n.return()}finally{if(l)throw o}}},setCellRenderText:function(t){var e=t.renderText(t.rowData),i=this.allRows[t.rowIndex];if(e){var s=0,l=this.getTextLine(this.ctx,e,t.width),o=0;l&&(o=l.length),o>1&&s<this.rowHeight+18*(o-1)&&(s=this.rowHeight+18*(o-1)),s>i.height&&(i.height=s),t.content=e,t.paintText=l}else t.content="",t.paintText=[];return t},getDisplayColumns:function(){var t=this,e=this.offset.x,i=this.originPoint,s=this.maxPoint,o=this.allColumns,r=this.fillWidth,n=[],a=i.x+e,h=!0,f=!1,u=void 0;try{for(var c,y=d()(o);!(h=(c=y.next()).done);h=!0){var x=c.value;if(x.checked){var v=x.width+r;if(v+a>i.x&&a<s.x){var _=l()({},x,{x:a,width:v});n.push(_)}a+=v}}}catch(t){f=!0,u=t}finally{try{!h&&y.return&&y.return()}finally{if(f)throw u}}return setTimeout(function(){t.displayColumns=[].concat(n)},0),n},initDisplayItems:function(){var t=this.getDisplayColumns(),e=this.getDisplayRows(),i=this.getDisplayCells(e,t),s=this.getDisplayFixedCells(e);if(this.focusCell){this.freshFocusCell(this.focusCell.rowIndex,this.focusCell.cellIndex,e,t);var l=this.focusCell.offset;l.x===this.offset.x&&l.y===this.offset.y||(this.focusCell.x-=l.x-this.offset.x,this.focusCell.y-=l.y-this.offset.y,this.focusCell.offset=a()({},this.offset))}if(this.selectArea){var o=this.selectArea.offset;this.selectArea.x-=o.x-this.offset.x,this.selectArea.y-=o.y-this.offset.y,this.selectArea.offset=a()({},this.offset);for(var r=0,n=[],h=this.selectArea.rowIndex;h<this.selectArea.rowIndex+this.selectArea.rowCount;h+=1)r+=this.allRows[h].height,n.push(this.allCells[h][0].rowData);this.selectArea.height=r,this.calculateRate(n)}if(this.multiSelect&&(this.multiSelect.x-=this.multiSelect.offset.x-this.offset.x,this.multiSelect.offset=a()({},this.offset)),this.rowFocus){var d=this.rowFocus.offset;d.x===this.offset.x&&d.y===this.offset.y||(this.rowFocus.y-=d.y-this.offset.y,this.rowFocus.cellY-=d.y-this.offset.y,this.rowFocus.fixed||(this.rowFocus.x-=d.x-this.offset.x,this.rowFocus.cellX-=d.x-this.offset.x),this.rowFocus.offset=a()({},this.offset))}return{displayColumns:t,displayRows:e,displayCells:i,displayFixedCells:s}},getDisplayRows:function(){var t=this,e=this.offset.y,i=this.originPoint,s=this.maxPoint,o=this.allRows,r=this.toolbarHeight,n=[],a=i.y+e+r,h=!0,f=!1,u=void 0;try{for(var c,y=d()(o);!(h=(c=y.next()).done);h=!0){var x=c.value;if(a+x.height>i.y+r&&a<s.y){var v=l()({},x,{y:a});n.push(v)}else if(a>=s.y)break;a+=x.height}}catch(t){f=!0,u=t}finally{try{!h&&y.return&&y.return()}finally{if(f)throw u}}return setTimeout(function(){t.displayRows=[].concat(n)},0),n},getDisplayCells:function(t,e){var i=this,s=[],o=this.allCells,r=this.fillWidth,n=this.setCellRenderText,a=!0,h=!1,f=void 0;try{for(var u,c=d()(t);!(a=(u=c.next()).done);a=!0){var y=u.value,x=[],v=!0,_=!1,w=void 0;try{for(var p,C=d()(e);!(v=(p=C.next()).done);v=!0){var g=p.value,m=o[y.rowIndex][g.cellIndex];m.renderText&&(m=n(m)),m.renderButton&&(m.buttons=g.renderButton(this.data[m.rowIndex],m.rowIndex));var b=l()({},m,{x:g.x,y:y.y,width:m.width+r,height:y.height});x.push(b)}}catch(t){_=!0,w=t}finally{try{!v&&C.return&&C.return()}finally{if(_)throw w}}s.push(x)}}catch(t){h=!0,f=t}finally{try{!a&&c.return&&c.return()}finally{if(h)throw f}}return setTimeout(function(){i.displayCells=[].concat(s)},0),s},getDisplayFixedCells:function(t){var e=this,i=[],s=this.allFixedCells,o=this.fillWidth,r=!0,n=!1,a=void 0;try{for(var h,f=d()(s);!(r=(h=f.next()).done);r=!0){var u=h.value,c=[],y=!0,x=!1,v=void 0;try{for(var _,w=d()(t);!(y=(_=w.next()).done);y=!0){var p=_.value,C=u[p.rowIndex];C.renderButton&&(C.buttons=C.renderButton(this.data[C.rowIndex],C.rowIndex));var g=l()({},C,{y:p.y,width:C.width+o,height:p.height});c.push(g)}}catch(t){x=!0,v=t}finally{try{!y&&w.return&&w.return()}finally{if(x)throw v}}i.push(c)}}catch(t){n=!0,a=t}finally{try{!r&&f.return&&f.return()}finally{if(n)throw a}}return setTimeout(function(){e.displayallFixedCells=[].concat(i)},0),i},freshFocusCell:function(t,e,i,s){var l=i[0].rowIndex,o=i[i.length-1].rowIndex;t>=l&&t<=o&&(this.focusCell.height=i[t-l].height);var r=!0,n=!1,a=void 0;try{for(var h,f=d()(s);!(r=(h=f.next()).done);r=!0){var u=h.value;u.cellIndex===e&&(this.focusCell.width=u.width)}}catch(t){n=!0,a=t}finally{try{!r&&f.return&&f.return()}finally{if(n)throw a}}},focusCellByOriginCell:function(t){var e=!0,i=!1,s=void 0;try{for(var o,r=d()(this.displayCells);!(e=(o=r.next()).done);e=!0){var n=o.value,h=!0,f=!1,u=void 0;try{for(var c,y=d()(n);!(h=(c=y.next()).done);h=!0){var x=c.value;if(x.rowIndex===t.rowIndex&&x.key===t.key){var v=l()({},x,{offset:a()({},this.offset)});return this.focusCell=v,this.rowFocus={cellX:v.x,cellY:v.y,rowIndex:this.focusCell.rowIndex,offset:a()({},this.offset)},this.paintFocusCell(v),v}}}catch(t){f=!0,u=t}finally{try{!h&&y.return&&y.return()}finally{if(f)throw u}}}}catch(t){i=!0,s=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw s}}return null}}}},wG0d:function(t,e,i){"use strict";var s=i("9W4H"),l=i("3g1f"),o=i("VU/8"),r=o(s.a,l.a,!1,null,null,null);e.a=r.exports},xJD8:function(t,e,i){"use strict";e.a={name:"app"}},y90r:function(t,e,i){"use strict";var s=i("Dd8w"),l=i.n(s);e.a={data:function(){return{history:[],historyIndex:0,currentStateValue:null}},created:function(){var t=this;this.$on("history_back",function(){if(t.historyIndex>=0){var e=t.history[t.historyIndex];"edit"===e.type?(t.saveItem(e.before,!1),t.focusCellByOriginCell(t.getCellByRowAndKey(e.before.index,e.before.key)),t.selectArea=null,t.isSelect=!1):"editMore"===e.type&&(t.$emit("updateValue",t.saveItems(e.before,!1)),t.focusCell=e.focusCell,t.rowFocus={cellX:t.focusCell.x,cellY:t.focusCell.y,rowIndex:t.focusCell.rowIndex,offset:l()({},t.offset)},t.paintFocusCell(t.focusCell),t.selectArea=e.selectArea,t.isSelect=!0,t.rePainted()),t.historyIndex-=1}}),this.$on("history_forward",function(){if(t.historyIndex!==t.history.length-1){t.historyIndex+=1;var e=t.history[t.historyIndex];"edit"===e.type&&(t.saveItem(e.after,!1),t.focusCellByOriginCell(t.getCellByRowAndKey(e.after.index,e.after.key)))}})},methods:{pushState:function(t){this.history=this.history.slice(0,this.historyIndex+1),this.history.push(t),this.history.length>20&&this.history.splice(0,1),this.historyIndex=this.history.length-1}}}}},["NHnr"]);
//# sourceMappingURL=app.56e2a19ff724f48c332f.js.map